@using TodoSeUsa.Application.Features.Boxes.DTOs
@using TodoSeUsa.Application.Features.Boxes.Interfaces

@inject IBoxService BoxService;

@inject DialogService DialogService;

<RadzenStack AlignItems="AlignItems.Center" JustifyContent="JustifyContent.Center" class="rz-mb-4">
    <RadzenText TextStyle="TextStyle.H6">¿Estás seguro de borrar la caja código BOX-@BoxDto.Id.ToString("D3")?</RadzenText>
</RadzenStack>
<RadzenCard Variant="Variant.Outlined" Style="border-color: red;" class="d-flex align-content-center align-items-center rz-mb-4">
    <RadzenIcon Icon="warning" IconStyle="IconStyle.Danger" Style="font-size: 2rem" class="me-1"></RadzenIcon>
    <RadzenText TextStyle="TextStyle.H6" Style="color:red; margin: 0">Ésta operación no se puede revertir</RadzenText>
</RadzenCard>
<RadzenStack AlignItems="AlignItems.Center" JustifyContent="JustifyContent.Center">
    <RadzenButton Icon="delete" Text="Borrar" ButtonStyle="ButtonStyle.Danger" Size="ButtonSize.Large" Click="@Delete"></RadzenButton>
</RadzenStack>

@attribute [Authorize]

@code
{

    [Parameter] public BoxDto BoxDto { get; set; } = null!;

    async Task Delete()
    {
        if (BoxDto is null)
            return;

        var result = await BoxService.DeleteBoxById(BoxDto.Id, CancellationToken.None);
        DialogService.Close(result);
    }
}